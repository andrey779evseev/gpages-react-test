(this.webpackJsonptest=this.webpackJsonptest||[]).push([[1],{117:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return O}));var a=n(20),r=n.n(a),c=n(45),u=n(86),i=n(8),s=n(36),o=function(e){return s.b.get("profile/"+e).then((function(e){return e.data}))},l=function(e){return s.b.get("profile/status/"+e).then((function(e){return e.data}))},f=function(e){return s.b.put("profile/status",{status:e}).then((function(e){return e.data}))},m=function(e){var t=new FormData;return t.append("image",e),s.b.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},d=function(e){return s.b.put("/profile",e).then((function(e){return e.data}))},p={posts:[{id:1,message:"What is your name?",likesCount:12},{id:2,message:"My name is Andrew",likesCount:24},{id:3,message:"Hi",likesCount:15},{id:4,message:"Hi",likesCount:2},{id:5,message:"My friend",likesCount:6},{id:6,message:"Yes",likesCount:19}],profile:null,status:""},E={addPostActionCreator:function(e){return{type:"ADD-POST",newPostText:e}},setUsersProfile:function(e){return{type:"SET_USER_PROFILE",profile:e}},setUsersStatus:function(e){return{type:"SET_USERS_STATUS",status:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},setUserPhoto:function(e){return{type:"UPLOAD_PHOTO",photos:e}}},h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:a=t.sent,n(E.setUsersProfile(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:a=t.sent,n(E.setUsersStatus(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:0===t.sent.resultCode&&n(E.setUsersStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:0===(a=t.sent).resultCode&&n(E.setUserPhoto(a.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().auth.id,t.next=3,d(e);case 3:0===t.sent.resultCode&&null!=c&&n(h(c));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n=t.newPostText;return Object(i.a)(Object(i.a)({},e),{},{posts:[{id:9,message:n,likesCount:0}].concat(Object(u.a)(e.posts))});case"SET_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case"SET_USERS_STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"UPLOAD_PHOTO":return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})});default:return e}}},138:function(e,t,n){e.exports={header:"Header_header__3gfaV",quit:"Header_quit__327E1"}},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(86),r=n(8),c={dialogs:[{id:1,name:"Andrew"},{id:2,name:"Mark"},{id:3,name:"Victor"},{id:4,name:"Vasia"},{id:5,name:"Sasha"},{id:6,name:"Petya"}],messages:[{id:1,message:"Hi"},{id:2,message:"My name is Andrew"},{id:3,message:"Hi, me name is Vasia"},{id:4,message:"Yes"},{id:5,message:"No"},{id:6,message:"My friend"},{id:7,message:"Yes"},{id:8,message:"Yo"}]},u={addNewMessage:function(e){return{type:"ADD-MESSAGE",newMessageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var n=t.newMessageBody;return Object(r.a)(Object(r.a)({},e),{},{messages:[{id:9,message:n}].concat(Object(a.a)(e.messages))});default:return e}}},197:function(e,t,n){e.exports=n.p+"static/media/ava.0aa8581c.jpg"},208:function(e,t,n){e.exports=n.p+"static/media/Spinner.36376a0c.svg"},209:function(e,t,n){e.exports={preloader:"Preloader_preloader__1CeCc"}},264:function(e,t,n){e.exports=n(401)},266:function(e,t,n){},346:function(e,t,n){},36:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return a}));var a,r,c=n(184),u=n.n(c).a.create({withCredentials:!0,headers:{"API-KEY":"91cf8020-06af-48f1-9986-c7ac90bd7f5a"},baseURL:"https://social-network.samuraijs.com/api/1.0/"});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}))},401:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);n(266),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(82),u=n(117),i=n(172),s={},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return e},l=n(20),f=n.n(l),m=n(45),d=n(8),p=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(d.a)(Object(d.a)({},e),{},{followed:a}):e}))},E=n(36),h={getUsers:function(e,t,n){return E.b.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n.term)+(null===n.friend?"":"&friend=".concat(n.friend))).then((function(e){return e.data}))},follow:function(e){return E.b.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return E.b.delete("follow/".concat(e)).then((function(e){return e.data}))}},g={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},b=function(e){return{type:"FOLLOW",userId:e}},v=function(e){return{type:"UNFOLLOW",userId:e}},O=function(e){return{type:"SET_USERS",users:e}},j=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},y=function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},w=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},S=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},_=function(e){return{type:"SET_FILTER",payload:e}},C=function(e,t,n){return function(){var a=Object(m.a)(f.a.mark((function a(r){var c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(w(!0)),r(_(n)),a.next=4,h.getUsers(e,t,n);case 4:c=a.sent,r(w(!1)),r(O(c.items)),r(y(c.totalCount));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},U=function(){var e=Object(m.a)(f.a.mark((function e(t,n,a,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(S(!0,n)),e.next=3,a(n);case 3:0===e.sent.resultCode&&t(r(n)),t(S(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:p(e.users,t.userId,"id",!0)});case"UNFOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:p(e.users,t.userId,"id",!1)});case"SET_USERS":return Object(d.a)(Object(d.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});case"SET_FILTER":return Object(d.a)(Object(d.a)({},e),{},{filter:t.payload});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(d.a)({},e);default:return e}},T=n(139),L=function(){return E.b.get("auth/me").then((function(e){return e.data}))},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return E.b.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},k=function(){return E.b.delete("auth/login").then((function(e){return e.data}))},x=function(){return E.b.get("security/get-captcha-url").then((function(e){return e.data}))},R={id:null,email:null,login:null,isFetching:!1,isAuth:!1,captchaUrl:null},A=function(e,t,n,a){return{type:"malifor-network/auth/SET_USER_DATA",payload:{id:e,email:t,login:n,isAuth:a}}},N=function(e){return{type:"GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},F=function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a,r,c,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:(n=e.sent).resultCode===E.a.Success&&(a=n.data,r=a.id,c=a.email,u=a.login,t(A(r,c,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:n=e.sent,a=n.url,t(N(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"malifor-network/auth/SET_USER_DATA":case"GET_CAPTCHA_URL_SUCCESS":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},M=n(185),z=n(183),H={initialized:!1},q=function(){return{type:"INITIALIZED_SUCCESS"}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}},V=Object(c.c)({ProfilePage:u.b,DialogsPage:i.b,Sidebar:o,UsersPage:P,auth:G,app:W,form:z.a}),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,Y=Object(c.e)(V,B(Object(c.a)(M.a))),K=n(38),J=n.n(K),X=(n(346),n(347),n(21)),Z=n(57),$=n.n(Z),Q=n(408),ee=function(e){return r.a.createElement(Q.a,{defaultCurrent:2,style:{marginLeft:200},pageSize:5,showSizeChanger:!1,onChange:e.onPageChanged,total:e.totalUsersCount})},te=n(197),ne=n.n(te),ae=n(54),re=n(102),ce=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,c=e.follow;return r.a.createElement("div",null,r.a.createElement("div",{className:$.a.flex_wrapper},r.a.createElement("div",{className:$.a.avafoll},r.a.createElement(ae.b,{to:"/profile/"+t.id,className:$.a.avaAllign},r.a.createElement("img",{alt:"ava",className:$.a.ava,src:null!=t.photos.small?t.photos.small:ne.a})),r.a.createElement("br",null),t.followed?r.a.createElement(re.a,{type:"primary",disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Unfollow"):r.a.createElement(re.a,{type:"primary",disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id)}},"Follow")),r.a.createElement("div",{className:$.a.description},r.a.createElement("div",null,r.a.createElement("span",{className:$.a.name},t.name),r.a.createElement("p",{className:$.a.status},t.status)),r.a.createElement("span",{className:$.a.location}," ","user.location.country",r.a.createElement("br",null),"user.location.city"))))},ue=n(48),ie=n(200),se=Object(ie.a)((function(e){return e.UsersPage.users}),(function(e){return e})),oe=function(e){return e.UsersPage.pageSize},le=function(e){return e.UsersPage.totalUsersCount},fe=function(e){return e.UsersPage.currentPage},me=function(e){return e.UsersPage.isFetching},de=function(e){return e.UsersPage.followingInProgress},pe=function(e){return e.UsersPage.filter},Ee=n(97),he=n(414),ge=n(403),be=n(407),ve=n(411),Oe=ge.a.Option,je=function(e){return{}},ye=r.a.memo((function(e){var t=Object(X.d)(pe);return r.a.createElement("div",{className:$.a.findDiv,style:{marginLeft:160,marginBottom:30}},r.a.createElement(ue.d,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:je,onSubmit:function(t,n){var a=n.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(r),a(!1)}},(function(e){e.isSubmitting;return r.a.createElement(be.a,null,r.a.createElement(ve.a,{name:"term",style:{width:300,height:34}}),r.a.createElement(ge.a,{name:"friend",style:{width:120,height:34,marginLeft:10,marginBottom:2},defaultValue:"null"},r.a.createElement(Oe,{value:"null"},"All"),r.a.createElement(Oe,{value:"true"},"Friends"),r.a.createElement(Oe,{value:"false"},"Not Friends")),r.a.createElement(Ee.a,{title:"search"},r.a.createElement(re.a,{type:"primary",htmlType:"submit",style:{marginLeft:10},shape:"circle",icon:r.a.createElement(he.a,null)})))})))})),we=n(34),Se=n(154),_e=function(){var e=Object(X.d)(le),t=Object(X.d)(fe),n=Object(X.d)(oe),c=Object(X.d)(pe),u=Object(X.d)(se),i=Object(X.d)(de),s=Object(X.c)(),o=Object(we.f)();Object(a.useEffect)((function(){var e=Se.parse(o.location.search.substr(1)),a=t,r=c;e.page&&(a=+e.page),e.term&&(r=Object(d.a)(Object(d.a)({},r),{},{term:e.term})),e.friend&&(r=Object(d.a)(Object(d.a)({},r),{},{friend:"null"===e.friend?null:"true"===e.friend})),s(C(a,n,r))}),[]),Object(a.useEffect)((function(){var e={};c.term&&(e.term=c.term),null!==c.friend&&(e.friend=String(c.friend)),1!==t&&(e.page=String(t)),o.push({pathname:"/users",search:Se.stringify(e)})}),[c,t]);var l=function(e){s(function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(n,e,h.follow.bind(h),b);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},p=function(e){s(function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(n,e,h.unfollow.bind(h),v);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},E=function(e){s(j(e))};return r.a.createElement("div",null,r.a.createElement(ye,{onFilterChanged:function(e){s(C(1,n,e)),E(t)}}),r.a.createElement(ee,{totalUsersCount:e,pageSize:n,currentPage:t,onPageChanged:function(e){s(C(e,n,c)),E(e)}}),r.a.createElement("div",{className:$.a.block},r.a.createElement("h2",null,"Users"),u.map((function(e){return r.a.createElement(ce,{user:e,followingInProgress:i,unfollow:p,follow:l,key:e.id})}))))},Ce=n(70),Ue=function(e){var t=Object(X.d)(me);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(Ce.a,null):null,r.a.createElement(_e,null))},Pe=n(415),Te=n(416),Le=n(412),Ie=function(){var e=Object(X.c)(),t=Object(X.d)((function(e){return e.auth.isAuth})),n=Object(X.d)((function(e){return e.auth.captchaUrl}));return t?r.a.createElement(we.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(ue.d,{initialValues:{email:"",password:"",rememberMe:!1,captcha:""},onSubmit:function(){}},(function(t){return r.a.createElement(ue.c,{style:{width:350,marginLeft:"auto",marginRight:"auto"},onSubmit:function(){var n,a,r,c;e((n=t.values.email,a=t.values.password,r=t.values.rememberMe,c=t.values.captcha,function(){var e=Object(m.a)(f.a.mark((function e(t){var u,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n,a,r,c);case 2:(u=e.sent).resultCode===E.a.Success?t(F()):(u.resultCode===E.a.CaptchaIsRequired&&t(D()),i=u.messages.length>0?u.messages[0]:"Some error",t(Object(T.a)("login",{_error:i})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement(ve.a,{placeholder:"Email",name:"email",style:{width:320,marginBottom:10},onChange:t.handleChange,value:t.values.email}),r.a.createElement(ve.a.Password,{name:"password",style:{width:320},onChange:t.handleChange,value:t.values.password,placeholder:"input password",iconRender:function(e){return e?r.a.createElement(Pe.a,null):r.a.createElement(Te.a,null)}}),r.a.createElement(Le.a,{name:"rememberMe"},"Remember Me"),n&&r.a.createElement("img",{src:n}),n&&r.a.createElement(ve.a,{name:"captcha",placeholder:"Symbols From Image"}),r.a.createElement(re.a,{htmlType:"submit",style:{width:100,marginTop:10,marginLeft:100},type:"primary"},"Login"))})))},ke=n(410),xe=n(413),Re=n(409),Ae=n(138),Ne=n.n(Ae),Fe=n(62),De=function(){var e=Object(X.d)((function(e){return e.auth.login})),t=Object(X.d)((function(e){return e.auth.id})),n=Object(X.c)(),c=Object(we.f)(),i=Object(X.d)((function(e){return e.auth.isAuth}));Object(a.useEffect)((function(){i&&n(Object(u.c)(t))}),[c,t]);var s=Object(X.d)((function(e){return e.ProfilePage.profile})),o=r.a.createElement(ke.a,null,r.a.createElement(ke.a.Item,{style:{cursor:"default",marginLeft:5}},e),r.a.createElement(ke.a.Item,null,r.a.createElement(re.a,{type:"primary",danger:!0,className:Ne.a.quit,onClick:function(){n(function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:e.sent.resultCode===E.a.Success&&t(A(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"quit")));return i&&!s?r.a.createElement(Ce.a,null):r.a.createElement(Fe.c,{className:Ne.a.header},i?r.a.createElement(xe.a,{overlay:o,placement:"bottomRight"},r.a.createElement(Re.a,{shape:"square",size:"large",style:{marginLeft:"auto"},src:null===s||void 0===s?void 0:s.photos.small})):r.a.createElement(ae.b,{to:"/login",className:Ne.a.quit},r.a.createElement(re.a,{type:"primary"},"LOGIN")))},Ge=n(404),Me=n(417),ze=n(418),He=n(419),qe=n(420),We=function(){var e=Object(we.f)().location.pathname;return r.a.createElement(Ge.a.Sider,{width:200,className:"site-layout-background"},r.a.createElement(ke.a,{mode:"inline",defaultSelectedKeys:"/profile"===e?["1"]:"/dialogs"===e?["2"]:"/users"===e?["3"]:"/chat"===e?["4"]:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},r.a.createElement(ke.a.Item,{key:"1",icon:r.a.createElement(Me.a,null)},r.a.createElement(ae.b,{to:"/profile"},"Profile")),r.a.createElement(ke.a.Item,{key:"2",icon:r.a.createElement(ze.a,null)},r.a.createElement(ae.b,{to:"/dialogs"},"Messages")),r.a.createElement(ke.a.Item,{key:"3",icon:r.a.createElement(He.a,null)},r.a.createElement(ae.b,{to:"/users"},"Users")),r.a.createElement(ke.a.Item,{key:"4",icon:r.a.createElement(qe.a,null)},r.a.createElement(ae.b,{to:"/chat"},"Chat"))))},Ve=n(86),Be=n(108),Ye=n(405),Ke=n(406),Je=n(136),Xe=function(){return r.a.createElement("div",null,r.a.createElement(Ze,null))},Ze=function(){var e=Object(a.useState)(null),t=Object(Be.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e,t=function(){setTimeout(n,3e3)},n=function(){var n,a;null===(n=e)||void 0===n||n.removeEventListener("close",t),null===(a=e)||void 0===a||a.close(),e=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),c(e),e.addEventListener("close",t)};return n(),function(){e.removeEventListener("close",t),e.close()}}),[]),r.a.createElement("div",null,r.a.createElement(Ye.a,null,r.a.createElement(Ke.a,{span:18,push:6}),r.a.createElement(Ke.a,{span:6,pull:18},r.a.createElement($e,{ws:n}))),r.a.createElement(Ye.a,null,r.a.createElement(et,{ws:n})))},$e=function(e){var t=e.ws,n=Object(a.useRef)(null),c=Object(a.useState)([]),u=Object(Be.a)(c,2),i=u[0],s=u[1];return Object(a.useEffect)((function(){n.current.scrollIntoView({behavior:"smooth"})}),[i]),Object(a.useEffect)((function(){var e=function(e){s((function(t){return[].concat(Object(Ve.a)(t),Object(Ve.a)(JSON.parse(e.data)))}))};return null===t||void 0===t||t.addEventListener("message",e),function(){null===t||void 0===t||t.removeEventListener("message",e)}}),[t]),i===[]?r.a.createElement(Ce.a,null):r.a.createElement("div",{style:{height:400,overflowY:"auto",width:500}},i.map((function(e,t){return r.a.createElement(Qe,{key:t,message:e})})),r.a.createElement("div",{ref:n}))},Qe=function(e){var t=e.message;return r.a.createElement("div",null,r.a.createElement(Re.a,{src:t.photo}),r.a.createElement("span",{style:{color:"cornflowerblue",marginLeft:5,marginBottom:7}},t.userName),r.a.createElement("p",{style:{marginLeft:20}},t.message))},et=function(e){var t=e.ws,n=Object(a.useState)(""),c=Object(Be.a)(n,2),u=c[0],i=c[1],s=Object(a.useState)("pending"),o=Object(Be.a)(s,2),l=o[0],f=o[1];Object(a.useEffect)((function(){var e=function(){f("ready")};return null===t||void 0===t||t.addEventListener("open",e),function(){null===t||void 0===t||t.removeEventListener("open",e)}}),[t]);return r.a.createElement("div",null,r.a.createElement(Je.a,{onChange:function(e){return i(e.currentTarget.value)},value:u,style:{resize:"none"}}),r.a.createElement(re.a,{disabled:null===t||"ready"!==l,onClick:function(){u&&(null===t||void 0===t||t.send(u),i(""))},type:"primary"},"Send"))},tt=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,490))})),nt=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,491))})),at=Object(X.b)(we.g)((function(){var e=Object(X.d)((function(e){return e.app.initialized})),t=Object(X.c)();return Object(a.useEffect)((function(){t((function(e){var t=e(F());Promise.all([t]).then((function(){e(q())}))}))}),[]),e?r.a.createElement(Ge.a,null,r.a.createElement(De,null),r.a.createElement(Ge.a,null,r.a.createElement(We,null),r.a.createElement(Ge.a,{style:{padding:"0 24px 24px"}},r.a.createElement(Fe.a,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},r.a.createElement(a.Suspense,{fallback:r.a.createElement(Ce.a,null)},r.a.createElement(we.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(tt,null)}}),r.a.createElement(we.b,{path:"/dialogs",render:function(){return r.a.createElement(nt,null)}}),r.a.createElement(we.b,{path:"/users",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(we.b,{path:"/login",render:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(we.b,{path:"/chat",render:function(){return r.a.createElement(Xe,null)}}))))),r.a.createElement(Fe.b,{style:{textAlign:"center"}},"Malifor Design 2077")):r.a.createElement(Ce.a,null)})),rt=function(){return r.a.createElement(ae.a,null,r.a.createElement(X.a,{store:Y},r.a.createElement(at,null)))};J.a.render(r.a.createElement(rt,null),document.getElementById("root")),window.store=Y,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,n){e.exports={block:"Users_block__3rR-m",avaAllign:"Users_avaAllign__3NUHz",flex_wrapper:"Users_flex_wrapper__2vPtu",ava:"Users_ava__10LpP",description:"Users_description__RvrE3",location:"Users_location__1uL17",btn:"Users_btn__3Krax",find:"Users_find__1_yMz",findDiv:"Users_findDiv__1C0wK"}},70:function(e,t,n){"use strict";var a=n(208),r=n.n(a),c=n(0),u=n.n(c),i=n(209),s=n.n(i);t.a=function(){return u.a.createElement("div",null,u.a.createElement("img",{src:r.a,className:s.a.preloader}))}}},[[264,2,3]]]);
//# sourceMappingURL=main.98c5deb2.chunk.js.map